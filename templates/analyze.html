<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Crop Analysis - Plant Disease Detection</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-success">
      <div class="container">
        <a class="navbar-brand" href="#">
          <i
            class="fa-solid fa-seedling"
            style="font-size: 24px; color: white; margin-right: 8px"
          ></i>
          Crop Analysis
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-3 flex-lg-row">
            <li class="nav-item me-lg-3">
              <a class="nav-link custome-link" href="{{ url_for('dashboard') }}"
                >Dashboard</a
              >
            </li>
            <li class="nav-item me-lg-3">
              <a class="nav-link custome-link" href="{{ url_for('analyze') }}"
                >Analysis</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link custome-link"
                href="{{ url_for('visualize_yield') }}"
                >Visuals</a
              >
            </li>
          </ul>
          <ul class="navbar-nav ms-auto">
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle d-flex align-items-center"
                href="#"
                id="userDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <i class="fa-solid fa-user me-2"></i>
                <span id="username"> {{ username }}</span>
              </a>
              <ul
                class="dropdown-menu dropdown-menu-end"
                aria-labelledby="userDropdown"
              >
                <li>
                  <a class="dropdown-item" href="{{ url_for('index') }}"
                    >Logout</a
                  >
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container py-5">
      <div class="row justify-content-center">
        <div class="col-md-8">
          <div class="card shadow rounded-4">
            <div class="card-body p-4">
              <h3 class="card-title mb-4 text-center">
                ðŸŒ± Plant Disease Analysis
              </h3>
              <p class="text-muted text-center mb-4">
                Upload details of your plants to get instant health analysis and
                treatment recommendations.
              </p>

              <form
                action="/upload/"
                method="POST"
                enctype="multipart/form-data"
              >
                <!-- Plant Photos -->
                <div class="mb-4">
                  <label for="plantPhotos" class="form-label fw-semibold"
                    >Plant Photos</label
                  >
                  <input
                    name="img"
                    class="form-control"
                    type="file"
                    id="plantPhotos"
                    accept=".jpg,.jpeg,.png,.gif"
                  />
                  <div class="form-text">Supported formats: JPG, PNG, GIF</div>
                </div>

                <!-- Location -->
                <div class="row mb-4">
                  <div class="col-md-6">
                    <label for="state" class="form-label fw-semibold"
                      >Select State</label
                    >
                    <select
                      id="state"
                      name="state"
                      class="form-select"
                      onchange="updateDistricts()"
                    >
                      <option value="">--Select State--</option>
                    </select>
                  </div>
                  <div class="col-md-6">
                    <label for="district" class="form-label fw-semibold"
                      >Select District</label
                    >
                    <select id="district" name="district" class="form-select">
                      <option value="">--Select District--</option>
                    </select>
                    <div class="form-text">
                      Location helps provide better yield predictions
                    </div>
                  </div>
                </div>

                <!-- Crop Type -->
                <div class="mb-4">
                  <label for="cropType" class="form-label fw-semibold"
                    >Crop Type</label
                  >
                  <select class="form-select" id="cropType" name="crop_type">
                    <option selected disabled>Choose...</option>
                    <option>Rice</option>
                    <option>Wheat</option>
                    <option>Maize</option>
                    <option>Soyabean</option>
                    <option>Cotton(lint)</option>
                    <option>Sugarcane</option>
                    <option>Onion</option>
                    <option>Millet</option>
                  </select>
                </div>

                <!-- Area & Fertilizer/Pesticide -->
                <div class="row mb-4">
                  <div class="col-md-4">
                    <label for="area" class="form-label fw-semibold"
                      >Area (Hectares)</label
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="area"
                      name="area"
                      placeholder="Enter area"
                    />
                  </div>
                  <div class="col-md-4">
                    <label for="fertilizerAmount" class="form-label fw-semibold"
                      >Fertilizer (kg)</label
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="fertilizerAmount"
                      name="fertilizer"
                      placeholder="Enter amount"
                    />
                  </div>
                  <div class="col-md-4">
                    <label for="pesticideAmount" class="form-label fw-semibold"
                      >Pesticide (kg)</label
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="pesticideAmount"
                      name="pesticide"
                      placeholder="Enter amount"
                    />
                  </div>
                </div>

                <!-- Submit Button -->
                <div class="d-grid">
                  <button
                    type="submit"
                    class="btn btn-success btn-lg rounded-pill"
                  >
                    <i class="fa-solid fa-microscope me-2 text-white"></i>
                    Analyze Plants
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container py-5">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <div class="card shadow rounded-4 border-0">
            <div class="card-body">
              <h5 class="card-title mb-4 text-center">ðŸŒ± Analysis Tips</h5>

              <ul class="list-unstyled">
                <li class="mb-3 d-flex align-items-start">
                  <i class="fa-solid fa-sun text-warning me-2 mt-1"></i>
                  <div>
                    <strong>Good Lighting:</strong> Take photos in natural
                    daylight for best results
                  </div>
                </li>

                <li class="mb-3 d-flex align-items-start">
                  <i class="fa-solid fa-crosshairs text-danger me-2 mt-1"></i>
                  <div>
                    <strong>Clear Focus:</strong> Ensure the plant is in sharp
                    focus
                  </div>
                </li>

                <li class="mb-3 d-flex align-items-start">
                  <i class="fa-solid fa-eye text-primary me-2 mt-1"></i>
                  <div>
                    <strong>Multiple Angles:</strong> Include close-ups of
                    affected areas
                  </div>
                </li>

                <li class="mb-3 d-flex align-items-start">
                  <i class="fa-solid fa-leaf text-success me-2 mt-1"></i>
                  <div>
                    <strong>Show Symptoms:</strong> Capture leaves, stems, or
                    fruits showing symptoms
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="bg-dark text-light mt-5 py-4">
      <div class="container text-center">
        <p>
          &copy; 2024 Crop Analysis. Helping farmers to detect plant diseases
          with AI and predict yield.
        </p>
      </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      const data = [
        { state: "Maharashtra", district: "Pune" },
        { state: "Maharashtra", district: "Thane" },
        { state: "Maharashtra", district: "Nashik" },
        { state: "Maharashtra", district: "Solapur" },
        { state: "Maharashtra", district: "Aurangabad" },
        { state: "Maharashtra", district: "Amravati" },
        { state: "Maharashtra", district: "Kolhapur" },
        { state: "Maharashtra", district: "Raigad" },
        { state: "Maharashtra", district: "Satara" },
        { state: "Maharashtra", district: "Wardha" },
        { state: "Maharashtra", district: "Yavatmal" },
        { state: "Maharashtra", district: "Nagpur" },
        { state: "Maharashtra", district: "Mumbai" },
        { state: "Maharashtra", district: "Ahmednagar" },
        { state: "Gujarat", district: "Ahmedabad" },
        { state: "Gujarat", district: "Surat" },
        { state: "Gujarat", district: "Vadodara" },
        { state: "Gujarat", district: "Bhavnagar" },
        { state: "Gujarat", district: "Jamnagar" },
        { state: "Gujarat", district: "Anand" },
        { state: "Gujarat", district: "Rajkot" },
        { state: "Rajasthan", district: "Jaipur" },
        { state: "Rajasthan", district: "Jodhpur" },
        { state: "Rajasthan", district: "Udaipur" },
        { state: "Rajasthan", district: "Kota" },
        { state: "Madhya Pradesh", district: "Indore" },
        { state: "Madhya Pradesh", district: "Bhopal" },
        { state: "Madhya Pradesh", district: "Gwalior" },
        { state: "Madhya Pradesh", district: "Jabalpur" },
        { state: "Madhya Pradesh", district: "Ujjain" },
        { state: "Madhya Pradesh", district: "Dewas" },
        { state: "Madhya Pradesh", district: "Sagar" },
        { state: "Uttarakhand", district: "Dehradun" },
        { state: "Uttarakhand", district: "Nainital" },
        { state: "Uttarakhand", district: "Haridwar" },
        { state: "Jharkhand", district: "Ranchi" },
        { state: "Jharkhand", district: "Jamshedpur" },
        { state: "Jharkhand", district: "Dhanbad" },
        { state: "Chhattisgarh", district: "Raipur" },
        { state: "Chhattisgarh", district: "Bilaspur" },
        { state: "Chhattisgarh", district: "Durg" },
        { state: "Himachal Pradesh", district: "Shimla" },
        { state: "Himachal Pradesh", district: "Mandi" },
        { state: "Himachal Pradesh", district: "Kangra" },
        { state: "Goa", district: "North Goa" },
        { state: "Goa", district: "South Goa" },
        { state: "Tripura", district: "Agartala" },
        { state: "Tripura", district: "North Tripura" },
        { state: "Tripura", district: "South Tripura" },
        { state: "Uttar Pradesh", district: "Lucknow" },
        { state: "Uttar Pradesh", district: "Kanpur" },
        { state: "Uttar Pradesh", district: "Varanasi" },
        { state: "Uttar Pradesh", district: "Agra" },
        { state: "Uttar Pradesh", district: "Meerut" },
        { state: "Uttar Pradesh", district: "Ghaziabad" },
        { state: "Uttar Pradesh", district: "Moradabad" },
        { state: "Bihar", district: "Patna" },
        { state: "Bihar", district: "Gaya" },
        { state: "Bihar", district: "Bhagalpur" },
        { state: "Bihar", district: "Muzaffarpur" },
        { state: "Haryana", district: "Gurugram" },
        { state: "Haryana", district: "Hisar" },
        { state: "Haryana", district: "Karnal" },
        { state: "Punjab", district: "Amritsar" },
        { state: "Punjab", district: "Ludhiana" },
        { state: "Punjab", district: "Bathinda" },
        { state: "West Bengal", district: "Kolkata" },
        { state: "West Bengal", district: "Darjeeling" },
        { state: "West Bengal", district: "Howrah" },
        { state: "West Bengal", district: "Jalpaiguri" },
        { state: "Odisha", district: "Bhubaneswar" },
        { state: "Odisha", district: "Cuttack" },
        { state: "Odisha", district: "Sambalpur" },
        { state: "Assam", district: "Guwahati" },
        { state: "Assam", district: "Jorhat" },
        { state: "Assam", district: "Dibrugarh" },
        { state: "Telangana", district: "Hyderabad" },
        { state: "Telangana", district: "Warangal" },
        { state: "Telangana", district: "Nizamabad" },
        { state: "Andhra Pradesh", district: "Guntur" },
        { state: "Andhra Pradesh", district: "Vijayawada" },
        { state: "Andhra Pradesh", district: "Tirupati" },
        { state: "Andhra Pradesh", district: "Visakhapatnam" },
        { state: "Andhra Pradesh", district: "Kurnool" },
        { state: "Andhra Pradesh", district: "Kadapa" },
        { state: "Andhra Pradesh", district: "Prakasam" },
        { state: "Karnataka", district: "Bengaluru" },
        { state: "Karnataka", district: "Mysuru" },
        { state: "Karnataka", district: "Belagavi" },
        { state: "Tamil Nadu", district: "Chennai" },
        { state: "Tamil Nadu", district: "Coimbatore" },
        { state: "Tamil Nadu", district: "Madurai" },
        { state: "Kerala", district: "Kochi" },
        { state: "Kerala", district: "Kollam" },
        { state: "Kerala", district: "Kannur" },
        { state: "Delhi", district: "New Delhi" },
        { state: "Jammu & Kashmir", district: "Srinagar" },
        { state: "Ladakh", district: "Leh" },
        { state: "Arunachal Pradesh", district: "Itanagar" },
        { state: "Arunachal Pradesh", district: "Tawang" },
        { state: "Manipur", district: "Imphal East" },
        { state: "Manipur", district: "Imphal West" },
        { state: "Mizoram", district: "Aizawl" },
        { state: "Mizoram", district: "Champhai" },
        { state: "Nagaland", district: "Kohima" },
        { state: "Nagaland", district: "Dimapur" },
        { state: "Meghalaya", district: "Shillong" },
        { state: "Meghalaya", district: "Tura" },
        { state: "Sikkim", district: "Gangtok" },
        { state: "Sikkim", district: "Namchi" },
        { state: "Andaman & Nicobar Islands", district: "Port Blair" },
        { state: "Chandigarh", district: "Chandigarh" },
        { state: "Puducherry", district: "Puducherry" },
        { state: "Dadra & Nagar Haveli and Daman & Diu", district: "Dadra" },
        { state: "Dadra & Nagar Haveli and Daman & Diu", district: "Diu" },
      ];

      // Populate states
      const stateSelect = document.getElementById("state");
      const districts = document.getElementById("district");

      const uniqueStates = [...new Set(data.map((item) => item.state))];
      uniqueStates.forEach((state) => {
        const option = document.createElement("option");
        option.value = state;
        option.textContent = state;
        stateSelect.appendChild(option);
      });

      function updateDistricts() {
        const selectedState = stateSelect.value;
        districts.innerHTML = '<option value="">--Select District--</option>'; // reset
        const filteredDistricts = data.filter(
          (item) => item.state === selectedState
        );
        filteredDistricts.forEach((d) => {
          const option = document.createElement("option");
          option.value = d.district;
          option.textContent = d.district;
          districts.appendChild(option);
        });
      }
    </script>
  </body>
</html>
